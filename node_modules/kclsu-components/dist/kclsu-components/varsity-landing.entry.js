import { r as registerInstance, h } from './index-65ac344c.js';
import { r as returnDate, a as removeParams, g as getNextEvents } from './utils-cccb6bd3.js';

const slider1 = ['https://res.cloudinary.com/kclsu-media/image/upload/c_fill,f_auto,g_center,h_400,w_400/v1572950453/website_uploads/Student%20Groups/IMG_2912_w8tl4m.jpg', 'https://res.cloudinary.com/kclsu-media/image/upload/c_fill,f_auto,g_center,h_400,w_400/v1572950351/website_uploads/Student%20Groups/IMG_8974_hyjmth.jpg', 'https://res.cloudinary.com/kclsu-media/image/upload/c_fill,f_auto,g_center,h_400,w_400/v1572949439/website_uploads/Student%20Groups/IMG_9831_na7lei.jpg'];
const slider2 = ['https://res.cloudinary.com/kclsu-media/image/upload/c_fill,f_auto,g_center,h_400,w_400/v1572949227/website_uploads/Student%20Groups/IMG_0563_ktahwz.jpg', 'https://res.cloudinary.com/kclsu-media/image/upload/c_fill,f_auto,g_center,h_400,w_400/v1572949230/website_uploads/Student%20Groups/IMG_0035_ohq540.jpg', 'https://res.cloudinary.com/kclsu-media/image/upload/c_fill,f_auto,g_center,h_400,w_400/v1572950335/website_uploads/Student%20Groups/IMG_9013_oosop9.jpg'];
const slider3 = ['https://res.cloudinary.com/kclsu-media/image/upload/c_fill,f_auto,g_center,h_400,w_400/v1572949438/website_uploads/Student%20Groups/IMG_9723_kuyxon.jpg', 'https://res.cloudinary.com/kclsu-media/image/upload/c_fill,f_auto,g_center,h_400,w_400/v1572888155/website_uploads/Student%20Groups/IMG_7039_v0m0fj.jpg', 'https://res.cloudinary.com/kclsu-media/image/upload/c_fill,f_auto,g_center,h_400,w_400/v1572951391/website_uploads/Student%20Groups/macadam_72dpi-25_hcoe5k.jpg'];
const sliderBig = ['https://res.cloudinary.com/kclsu-media/image/upload/c_fill,f_auto,fl_any_format,g_south,q_auto:good,w_1000/v1572950347/website_uploads/Student%20Groups/IMG_9298_ilh6dr.jpg', 'https://res.cloudinary.com/kclsu-media/image/upload/c_fill,f_auto,fl_any_format,g_south,q_auto:good,w_1000/v1572951391/website_uploads/Student%20Groups/macadam_72dpi-25_hcoe5k.jpg'];

const globalstylesCss = ":root{--app-primary-color:greenyellow}ul,ol{margin-top:0;margin-bottom:10px}ul ul,ol ul,ul ol,ol ol{margin-bottom:0}body,p,li{font-family:\"Open Sans\", Arial, sans-serif;font-size:18px;line-height:32px;color:#444;font-weight:400}a{font-family:\"Open Sans\", Arial, sans-serif;color:#14847e;text-decoration:none}p a{color:#14847e;text-decoration-line:underline;text-decoration-style:dotted}p a:focus,p a:hover{color:#1ba39c;text-decoration:none}em{background:#cce9e6;padding:3px;font-style:italic;font-weight:700}h1,h2,h3,h4,h5,h6{font-family:bree-serif, serif;font-weight:700}h1{font-size:48px;line-height:63px}h2{font-size:32px;line-height:48px}h3,h3 a{line-height:40px;font-size:24px}h4{color:#502669;text-align:center;font-size:20px;margin:0 0 40px}h5{color:#502669;text-align:center;font-size:18px;margin:0 0 20px}h6{font-size:16px;margin:0 0 20px;color:#502669}@media (max-width:600px){h1{font-size:32px}h2{font-size:26px}h3,h3 a{font-size:21px}h4{font-size:18px}h5{font-size:16px}h6{font-size:14px}}.container{margin-right:auto;margin-left:auto;padding-left:0px;padding-right:0px}@media (min-width: 768px){.container{width:750px}}@media (min-width: 992px){.container{width:970px}}@media (min-width: 1200px){.container{width:1200px}}@media (max-width: 768px){.container{margin-left:10px;margin-right:10px;margin-top:37px}}.container-fluid{margin-right:auto;margin-left:auto;padding-left:0px;padding-right:0px}.row{margin-left:-14px;margin-right:-14px}.col-xs-1,.col-sm-1,.col-md-1,.col-lg-1,.col-xs-2,.col-sm-2,.col-md-2,.col-lg-2,.col-xs-3,.col-sm-3,.col-md-3,.col-lg-3,.col-xs-4,.col-sm-4,.col-md-4,.col-lg-4,.col-xs-5,.col-sm-5,.col-md-5,.col-lg-5,.col-xs-6,.col-sm-6,.col-md-6,.col-lg-6,.col-xs-7,.col-sm-7,.col-md-7,.col-lg-7,.col-xs-8,.col-sm-8,.col-md-8,.col-lg-8,.col-xs-9,.col-sm-9,.col-md-9,.col-lg-9,.col-xs-10,.col-sm-10,.col-md-10,.col-lg-10,.col-xs-11,.col-sm-11,.col-md-11,.col-lg-11,.col-xs-12,.col-sm-12,.col-md-12,.col-lg-12{position:relative;min-height:1px;padding-left:14px;padding-right:14px}.col-xs-1,.col-xs-2,.col-xs-3,.col-xs-4,.col-xs-5,.col-xs-6,.col-xs-7,.col-xs-8,.col-xs-9,.col-xs-10,.col-xs-11,.col-xs-12{float:left}.col-xs-12{width:100%}.col-xs-11{width:91.66666667%}.col-xs-10{width:83.33333333%}.col-xs-9{width:75%}.col-xs-8{width:66.66666667%}.col-xs-7{width:58.33333333%}.col-xs-6{width:50%}.col-xs-5{width:41.66666667%}.col-xs-4{width:33.33333333%}.col-xs-3{width:25%}.col-xs-2{width:16.66666667%}.col-xs-1{width:8.33333333%}.col-xs-pull-12{right:100%}.col-xs-pull-11{right:91.66666667%}.col-xs-pull-10{right:83.33333333%}.col-xs-pull-9{right:75%}.col-xs-pull-8{right:66.66666667%}.col-xs-pull-7{right:58.33333333%}.col-xs-pull-6{right:50%}.col-xs-pull-5{right:41.66666667%}.col-xs-pull-4{right:33.33333333%}.col-xs-pull-3{right:25%}.col-xs-pull-2{right:16.66666667%}.col-xs-pull-1{right:8.33333333%}.col-xs-pull-0{right:auto}.col-xs-push-12{left:100%}.col-xs-push-11{left:91.66666667%}.col-xs-push-10{left:83.33333333%}.col-xs-push-9{left:75%}.col-xs-push-8{left:66.66666667%}.col-xs-push-7{left:58.33333333%}.col-xs-push-6{left:50%}.col-xs-push-5{left:41.66666667%}.col-xs-push-4{left:33.33333333%}.col-xs-push-3{left:25%}.col-xs-push-2{left:16.66666667%}.col-xs-push-1{left:8.33333333%}.col-xs-push-0{left:auto}.col-xs-offset-12{margin-left:100%}.col-xs-offset-11{margin-left:91.66666667%}.col-xs-offset-10{margin-left:83.33333333%}.col-xs-offset-9{margin-left:75%}.col-xs-offset-8{margin-left:66.66666667%}.col-xs-offset-7{margin-left:58.33333333%}.col-xs-offset-6{margin-left:50%}.col-xs-offset-5{margin-left:41.66666667%}.col-xs-offset-4{margin-left:33.33333333%}.col-xs-offset-3{margin-left:25%}.col-xs-offset-2{margin-left:16.66666667%}.col-xs-offset-1{margin-left:8.33333333%}.col-xs-offset-0{margin-left:0%}@media (min-width: 768px){.col-sm-1,.col-sm-2,.col-sm-3,.col-sm-4,.col-sm-5,.col-sm-6,.col-sm-7,.col-sm-8,.col-sm-9,.col-sm-10,.col-sm-11,.col-sm-12{float:left}.col-sm-12{width:100%}.col-sm-11{width:91.66666667%}.col-sm-10{width:83.33333333%}.col-sm-9{width:75%}.col-sm-8{width:66.66666667%}.col-sm-7{width:58.33333333%}.col-sm-6{width:50%}.col-sm-5{width:41.66666667%}.col-sm-4{width:33.33333333%}.col-sm-3{width:25%}.col-sm-2{width:16.66666667%}.col-sm-1{width:8.33333333%}.col-sm-pull-12{right:100%}.col-sm-pull-11{right:91.66666667%}.col-sm-pull-10{right:83.33333333%}.col-sm-pull-9{right:75%}.col-sm-pull-8{right:66.66666667%}.col-sm-pull-7{right:58.33333333%}.col-sm-pull-6{right:50%}.col-sm-pull-5{right:41.66666667%}.col-sm-pull-4{right:33.33333333%}.col-sm-pull-3{right:25%}.col-sm-pull-2{right:16.66666667%}.col-sm-pull-1{right:8.33333333%}.col-sm-pull-0{right:auto}.col-sm-push-12{left:100%}.col-sm-push-11{left:91.66666667%}.col-sm-push-10{left:83.33333333%}.col-sm-push-9{left:75%}.col-sm-push-8{left:66.66666667%}.col-sm-push-7{left:58.33333333%}.col-sm-push-6{left:50%}.col-sm-push-5{left:41.66666667%}.col-sm-push-4{left:33.33333333%}.col-sm-push-3{left:25%}.col-sm-push-2{left:16.66666667%}.col-sm-push-1{left:8.33333333%}.col-sm-push-0{left:auto}.col-sm-offset-12{margin-left:100%}.col-sm-offset-11{margin-left:91.66666667%}.col-sm-offset-10{margin-left:83.33333333%}.col-sm-offset-9{margin-left:75%}.col-sm-offset-8{margin-left:66.66666667%}.col-sm-offset-7{margin-left:58.33333333%}.col-sm-offset-6{margin-left:50%}.col-sm-offset-5{margin-left:41.66666667%}.col-sm-offset-4{margin-left:33.33333333%}.col-sm-offset-3{margin-left:25%}.col-sm-offset-2{margin-left:16.66666667%}.col-sm-offset-1{margin-left:8.33333333%}.col-sm-offset-0{margin-left:0%}}@media (min-width: 992px){.col-md-1,.col-md-2,.col-md-3,.col-md-4,.col-md-5,.col-md-6,.col-md-7,.col-md-8,.col-md-9,.col-md-10,.col-md-11,.col-md-12{float:left}.col-md-12{width:100%}.col-md-11{width:91.66666667%}.col-md-10{width:83.33333333%}.col-md-9{width:75%}.col-md-8{width:66.66666667%}.col-md-7{width:58.33333333%}.col-md-6{width:50%}.col-md-5{width:41.66666667%}.col-md-4{width:33.33333333%}.col-md-3{width:25%}.col-md-2{width:16.66666667%}.col-md-1{width:8.33333333%}.col-md-pull-12{right:100%}.col-md-pull-11{right:91.66666667%}.col-md-pull-10{right:83.33333333%}.col-md-pull-9{right:75%}.col-md-pull-8{right:66.66666667%}.col-md-pull-7{right:58.33333333%}.col-md-pull-6{right:50%}.col-md-pull-5{right:41.66666667%}.col-md-pull-4{right:33.33333333%}.col-md-pull-3{right:25%}.col-md-pull-2{right:16.66666667%}.col-md-pull-1{right:8.33333333%}.col-md-pull-0{right:auto}.col-md-push-12{left:100%}.col-md-push-11{left:91.66666667%}.col-md-push-10{left:83.33333333%}.col-md-push-9{left:75%}.col-md-push-8{left:66.66666667%}.col-md-push-7{left:58.33333333%}.col-md-push-6{left:50%}.col-md-push-5{left:41.66666667%}.col-md-push-4{left:33.33333333%}.col-md-push-3{left:25%}.col-md-push-2{left:16.66666667%}.col-md-push-1{left:8.33333333%}.col-md-push-0{left:auto}.col-md-offset-12{margin-left:100%}.col-md-offset-11{margin-left:91.66666667%}.col-md-offset-10{margin-left:83.33333333%}.col-md-offset-9{margin-left:75%}.col-md-offset-8{margin-left:66.66666667%}.col-md-offset-7{margin-left:58.33333333%}.col-md-offset-6{margin-left:50%}.col-md-offset-5{margin-left:41.66666667%}.col-md-offset-4{margin-left:33.33333333%}.col-md-offset-3{margin-left:25%}.col-md-offset-2{margin-left:16.66666667%}.col-md-offset-1{margin-left:8.33333333%}.col-md-offset-0{margin-left:0%}}@media (min-width: 1200px){.col-lg-1,.col-lg-2,.col-lg-3,.col-lg-4,.col-lg-5,.col-lg-6,.col-lg-7,.col-lg-8,.col-lg-9,.col-lg-10,.col-lg-11,.col-lg-12{float:left}.col-lg-12{width:100%}.col-lg-11{width:91.66666667%}.col-lg-10{width:83.33333333%}.col-lg-9{width:75%}.col-lg-8{width:66.66666667%}.col-lg-7{width:58.33333333%}.col-lg-6{width:50%}.col-lg-5{width:41.66666667%}.col-lg-4{width:33.33333333%}.col-lg-3{width:25%}.col-lg-2{width:16.66666667%}.col-lg-1{width:8.33333333%}.col-lg-pull-12{right:100%}.col-lg-pull-11{right:91.66666667%}.col-lg-pull-10{right:83.33333333%}.col-lg-pull-9{right:75%}.col-lg-pull-8{right:66.66666667%}.col-lg-pull-7{right:58.33333333%}.col-lg-pull-6{right:50%}.col-lg-pull-5{right:41.66666667%}.col-lg-pull-4{right:33.33333333%}.col-lg-pull-3{right:25%}.col-lg-pull-2{right:16.66666667%}.col-lg-pull-1{right:8.33333333%}.col-lg-pull-0{right:auto}.col-lg-push-12{left:100%}.col-lg-push-11{left:91.66666667%}.col-lg-push-10{left:83.33333333%}.col-lg-push-9{left:75%}.col-lg-push-8{left:66.66666667%}.col-lg-push-7{left:58.33333333%}.col-lg-push-6{left:50%}.col-lg-push-5{left:41.66666667%}.col-lg-push-4{left:33.33333333%}.col-lg-push-3{left:25%}.col-lg-push-2{left:16.66666667%}.col-lg-push-1{left:8.33333333%}.col-lg-push-0{left:auto}.col-lg-offset-12{margin-left:100%}.col-lg-offset-11{margin-left:91.66666667%}.col-lg-offset-10{margin-left:83.33333333%}.col-lg-offset-9{margin-left:75%}.col-lg-offset-8{margin-left:66.66666667%}.col-lg-offset-7{margin-left:58.33333333%}.col-lg-offset-6{margin-left:50%}.col-lg-offset-5{margin-left:41.66666667%}.col-lg-offset-4{margin-left:33.33333333%}.col-lg-offset-3{margin-left:25%}.col-lg-offset-2{margin-left:16.66666667%}.col-lg-offset-1{margin-left:8.33333333%}.col-lg-offset-0{margin-left:0%}}@media (min-width: 768px){.col-md-4{flex:none}}.col{flex-basis:auto;-ms-flex-positive:1;flex-grow:1;max-width:100%}";

const varsityLandingCss = globalstylesCss + ".grid{display:grid;grid-gap:15px;grid-template-columns:repeat(auto-fit, minmax(200px, 1fr));grid-auto-rows:220px;grid-auto-flow:dense;background-color:#e8e8e8;padding:1em}.wide{grid-column:span 2}.verywide{grid-column:span 3}.tall{grid-row:span 2}.vtall{grid-row:span 3}.item{background-color:white;position:relative}h2{margin:0;padding-left:1em;color:#e22219}p{padding:1em;font-size:16px;line-height:25px}.tilelabel{position:absolute;top:0;left:0;background-color:#e22219;color:white;padding:0.5em;z-index:100;-webkit-box-shadow:rgba(0, 0, 0, 0.15) 4px 5px 4px 1px;-moz-box-shadow:.5px 3px 5px 0px rgba(0,0,0,0.15);box-shadow:rgba(0, 0, 0, 0.15) 4px 5px 4px 1px}.tilelabel a{color:white;}.score-container{margin:1em 0;min-height:100px}.button{display:table;padding:5px 20px;margin:15px 20px 10px;color:white;background:#14847e;border-radius:30px;font-size:18px;cursor:pointer;-webkit-box-shadow:4px 3px 9px -2px rgba(0, 0, 0, .3);-moz-box-shadow:4px 3px 9px -2px rgba(0, 0, 0, .3);box-shadow:4px 3px 9px -2px rgba(0, 0, 0, .3)}@media only screen and (min-width: 500px) and (max-width: 780px){.item{background-color:white;position:relative;span:1;grid-column:span 2}}@media only screen and (max-width: 500px){.grid{display:grid;grid-gap:10px;grid-template-columns:repeat(auto-fit, minmax(150px, 1fr));grid-auto-rows:250px;padding:0.5em}.wide{grid-column:span 2}.verywide{grid-column:span 2}.image{grid-column:span 1}.tall{grid-row:span 1}}@media only screen and (max-width: 350px){.grid{grid-auto-rows:280px}}";

const VarsityLanding = class {
    constructor(hostRef) {
        registerInstance(this, hostRef);
        this.currentDate = returnDate();
        this.scoreModalOpen = false;
    }
    componentDidLoad() {
        let url = `https://varsity-db.firebaseio.com/${this.year}.json`;
        fetch(url)
            .then(res => res.json())
            .then(data => {
            this.eventsData = data;
            console.log("GAME LENGTH");
            console.log(data.length);
        });
    }
    closeModal() {
        this.scoreModalOpen = false;
        this.upcomingModalOpen = false;
    }
    launchScores(e) {
        e.preventDefault();
        this.scoreModalOpen = true;
    }
    renderLastScoreCard() {
        let evt = this.eventsData.filter(evt => evt.score && evt.score[0] >= 0);
        if (evt.length >= 1) {
            evt = evt.pop();
            return h("label-card", { reverse: true, cardtitle: evt.Title, image: removeParams(evt.ImageUrl), text: `Kings ${evt.score[0]} : UCL ${evt.score[1]}` });
        }
        else if (!this.eventsData)
            return '';
        else {
            let random = this.eventsData[1];
            return h("label-card", { reverse: true, cardtitle: random.Title, image: removeParams(random.ImageUrl), text: `Still to be decided...` });
        }
    }
    renderScoreCardList() {
        let played = this.eventsData.filter(evt => evt.score && evt.score[0] >= 0);
        if (played.length > 0) {
            return played.map(evt => {
                return ([
                    h("div", { class: "score-container" }, h("label-card", { cardtitle: evt.Title, reverse: true, image: removeParams(evt.ImageUrl), text: `Kings ${evt.score[0]} : UCL ${evt.score[1]}` }))
                ]);
            });
        }
        else
            return h("label-card", { cardtitle: "No Scores Yet", text: "The battle is still come", reverse: true });
    }
    renderNextMatch() {
        let evt = getNextEvents(this.eventsData, 1)[0];
        if (evt)
            return h("label-card", { reverse: true, buttonlink: evt.Url, buttontitle: "Find out more", cardtitle: evt.Title, image: removeParams(evt.ImageUrl) });
        else
            return h("label-card", { reverse: true, buttonlink: '/events', buttontitle: "See Other  KCLSU Events", cardtitle: "0 Varsity games remaining", image: "https://scontent.fcpt7-1.fna.fbcdn.net/v/t1.0-9/88068693_10157130396092399_993138396094267392_o.jpg?_nc_cat=105&_nc_sid=da1649&_nc_ohc=2Ni8SDyp6t0AX93FXT4&_nc_ht=scontent.fcpt7-1.fna&oh=0a410e1833f7c4cf870df8139bb33d92&oe=5E94DD7F" });
    }
    render() {
        let data = [...this.eventsData];
        return (h("div", { class: "grid" }, h("div", { class: "verywide item" }, h("h2", null, "London Varsity"), h("p", null, "From March 6th, King's College London Students' Union (KCLSU Sports) and University College London Union (Team UCL) come together to go head-to-head in the hope of becoming this years' London Varsity Series champion. ")), h("div", { class: "wide item" }, h("span", { class: "tilelabel" }, "Next Match"), this.renderNextMatch()), h("div", { class: "item wide" }, h("span", { class: "tilelabel" }, "Latest Score"), this.renderLastScoreCard()), h("div", { class: "item verywide" }, h("varsity-total-score", { scores: !data ? '' : data.filter(evt => evt.score && evt.score[0] >= 0) })), h("div", { class: "item wide" }, h("span", { class: "tilelabel" }, "Race to Victory"), h("varsity-race", { target: 19, data: !data ? '' : data.filter(evt => evt.score && evt.score[0] >= 0) })), h("div", { class: "item wide tall" }, h("span", { class: "tilelabel" }, h("a", { href: '/' }, "Follow @kclsu")), h("image-slider-auto", { images: sliderBig, interval: 10000 })), h("div", { class: "item wide vtall" }, h("span", { class: "tilelabel" }, "Upcoming"), h("varsity-upcoming", { data: data })), h("div", { class: "item image" }, h("image-slider-auto", { images: slider1, interval: 5000 })), h("div", { class: "item image" }, h("image-slider-auto", { images: slider2, interval: 7000 })), h("div", { class: "item image" }, h("span", { class: "tilelabel" }, "All Scores"), h("flex-container", { alignx: "center", aligny: "center", fillContainer: true }, h("a", { class: "button", onClick: (e) => this.launchScores(e) }, "2020's scores")), h("kclsu-modal", { show: this.scoreModalOpen }, this.scoreModalOpen ? this.renderScoreCardList() : '')), h("div", { class: "item image" }, h("span", { class: "tilelabel" }, "Last Year's Scores"), h("last-year-scores", null)), h("div", { class: "item image" }, h("image-slider-auto", { images: slider3, interval: 3000 })), h("div", { class: "item verywide image" }, h("image-fit-container", { alt: "kclsu american football at a London varsity match", src: "https://res.cloudinary.com/kclsu-media/image/upload/c_fill,f_auto,fl_any_format,g_south,h_350,q_94,w_900/v1572949438/website_uploads/Student%20Groups/IMG_9723_kuyxon.jpg" }))));
    }
};
VarsityLanding.style = varsityLandingCss;

export { VarsityLanding as varsity_landing };
